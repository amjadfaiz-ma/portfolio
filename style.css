/* Global theme */
html {
  /* Lab: define an accent color; using blue as requested */
  --color-accent: oklch(65% 50% 250);
  accent-color: var(--color-accent);

  /* Base text */
  color: oklch(32.866% 0.01795 248.425);
  font-family: system-ui, sans-serif;
}

/* Body defaults */
body {
  font: 100%/1.5 system-ui;
  margin-inline: max(1em, (100% - 100ch) / 2);
}

/* NAVIGATION */
nav {
  /* visual separation from content */
  margin-bottom: 2em;

  /* subtle bottom border (cool gray) */
  border-bottom: 1px solid oklch(80% 3% 200);

  /* layout */
  display: flex;
  justify-content: center;

  /* background + padding */
  background-color: #a6b5e6;
  padding: 1em 0;
}

/* Make links horizontal */
nav ul {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;

  /* space between items; remove if you prefer equal-width tabs */
  gap: 2em;
}

/* If you want equal-width tabs instead of gap spacing, use:
nav li { flex: 1; }
and remove `gap` above. */
nav li { flex: 0 0 auto; }

/* Link styling per lab */
nav a {
  display: block;
  text-decoration: none;       /* remove underline */
  color: inherit;              /* remove default link color */
  text-align: center;          /* center text in its box */
  padding: 0.5em;              /* spacing */
  border-bottom: 0.4em solid transparent; /* preserve layout height */
  transition: all 0.25s ease;
}

/* Hover: use accent color and light background with same hue */
nav a:hover {
  border-bottom: 0.4em solid var(--color-accent);
  background-color: oklch(from var(--color-accent) 95% 5% h);
}

/* Current page link: thick bottom border, reduced padding-bottom */
nav a.current {
  border-bottom: 0.4em solid var(--color-accent);
  padding-bottom: 0.1em;
  font-weight: 600;
  color: var(--color-accent);
}

/* -----------------------
   CONTACT FORM — Step 3
   ----------------------- */

/* Step 3.1: Make controls use site typography */
input, textarea, button, select {
  font: inherit;
}

/* Step 3.3: CSS Grid layout with subgrid */
form {
  /* Grid container for the whole form: labels left, inputs right */
  display: grid;
  grid-template-columns: auto 1fr; /* label column fits text; input column grows */
  gap: 1em;                        /* spacing between rows/cols */
  max-width: 60rem;                /* optional: prevent the form from getting too wide */
}

/* Each field (a label that contains its control) spans the full row */
form .field {
  display: grid;
  grid-template-columns: subgrid;  /* inherit the two columns from the form */
  grid-column: 1 / -1;             /* make the field span both columns of the form */
  align-items: center;             /* vertically center label text vs. control */
}

/* The label text lives in column 1 */
form .field > span {
  grid-column: 1;
}

/* The control lives in column 2; make it full width and include padding/border in width */
form .field > input,
form .field > textarea {
  grid-column: 2;
  width: 100%;
  box-sizing: border-box;
  padding: 0.5em;
  border: 1px solid oklch(85% 3% 200);
  border-radius: 0.25rem;
}

/* Submit button spans full width of the grid; align it to the start (left) */
form .form-submit {
  grid-column: 1 / -1;
  justify-self: start;
  padding: 0.6em 1.2em;
  border: 1px solid var(--color-accent);
  background: oklch(from var(--color-accent) 95% 5% h);
  color: var(--color-accent);
  border-radius: 0.35rem;
  cursor: pointer;
  transition: transform 0.05s ease, background 0.2s ease, color 0.2s ease;
}

form .form-submit:hover {
  background: var(--color-accent);
  color: white;
}

form .form-submit:active {
  transform: translateY(1px);
}

/* -----------------------
   PROJECTS PAGE — Step 4
   ----------------------- */

/* Step 4.2: Responsive grid for .projects */
.projects {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(15em, 1fr));
  gap: 1em;
  margin-block: 2em;
}

/* Step 4.3: Align article contents using subgrid */
.projects article {
  display: grid;
  grid-template-rows: subgrid;
  grid-row: span 3;
  background: oklch(98% 2% 200);
  padding: 1em;
  border: 1px solid oklch(90% 3% 200);
  border-radius: 0.4em;
}

/* Headings inside articles */
.projects h2 {
  margin: 0;
  font-size: 1.2rem;
}

/* Images inside articles */
.projects img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Paragraphs */
.projects p {
  margin: 0;
}

/* Step 4.4: Heading hierarchy and typographic polish */
h1 {
  font-size: 400%;
  line-height: 1.1;
  text-wrap: balance;
}

h2, h3, h4, h5, h6 {
  line-height: 1.1;
  text-wrap: balance;
}

/* 1) Auto dark mode */
html {
  color-scheme: light dark;
  background: canvas;
  color: canvastext;
}

/* 2) Nav border that adapts */
nav {
  --border-color: oklch(50% 10% 200 / 40%);
  border-bottom: 1px solid var(--border-color);
  /* keep your other nav styles */
  background-color: color-mix(in oklch, canvas, var(--color-accent) 30%);
}

/* 3) Hover background that works in both modes */
nav a:hover {
  border-bottom: 0.4em solid var(--color-accent);
  background-color: color-mix(in oklch, var(--color-accent), canvas 85%);
}

/* -----------------------
   Step 4.3: Dark mode switcher position
   ----------------------- */

label.color-scheme {
  position: absolute;   /* take it out of the normal flow */
  top: 1rem;            /* distance from the top edge */
  right: 1rem;          /* distance from the right edge */
  font-size: 80%;       /* make it a bit smaller */
  font-family: inherit; /* match site typography */
  background: oklch(from canvas 95% 2% h / 70%);
  padding: 0.25em 0.5em;
  border-radius: 0.4em;
  backdrop-filter: blur(4px);
}

label.color-scheme select {
  font: inherit;   /* inherit same font as site */
  margin-left: 0.25em;
  padding: 0.25em;
}

.profile-stats .stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: .5rem 1rem;
}
.profile-stats dt {
  grid-row: 1;
  font-weight: 600;
}
.profile-stats dd {
  grid-row: 2;
  margin: 0;
}

#projects-pie-plot {
  max-width: 20em;
  margin-block: 2em;
  overflow: visible;
}

/* --- Pie chart + legend layout --- */

.pie-wrapper {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  gap: 1rem;
  margin-block: 2rem;
  border: 1px solid oklch(80% 3% 200);
  border-radius: 0.5rem;
  padding: 1rem;
  background: oklch(98% 2% 200);
}

#projects-pie-plot {
  max-width: 20em;
  flex: 0 0 auto;
  overflow: visible;
}

/* Legend container styling */
.legend {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(9em, 1fr));
  gap: 1rem;
  flex: 1;
  list-style: none;
  margin: 0;
  padding: 1em 1.5em;                /* extra inner spacing */
  border: 1px solid oklch(85% 3% 200); /* subtle gray border */
  border-radius: 0.5em;              /* smooth rounded corners */
  background-color: oklch(98% 2% 200); /* faint background */
  box-shadow: 0 1px 2px oklch(70% 3% 200 / 0.3); /* gentle shadow */
}

/* Each legend item */
.legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  line-height: 1.2;
}

/* Color swatch circle */
.legend-item .swatch {
  display: inline-block;
  width: 1em;
  height: 1em;
  background-color: var(--color);
  border-radius: 50%;                 /* make it circular */
  border: 1px solid oklch(30% 0.02 240 / .2);
}

/* ----------------------------
   Step 5.2 – Selected state
   ---------------------------- */

/* default interactive affordance (if you didn't set this inline in JS) */
#projects-pie-plot path {
  cursor: pointer;
}

/* highlight color for selected year.
   We override --color for legend swatches by using !important.
   We ALSO force the pie slice fill for the selected <path>.
*/
.selected {
  --color: oklch(60% 45% 0) !important; /* pick something distinct */
}

/* If a pie slice (<path>) has class="selected", color it using that var */
#projects-pie-plot path.selected {
  fill: var(--color);
}

/* If a legend <li> has class="selected", only change the swatch circle color */
.legend-item.selected .swatch {
  /* The swatch already uses var(--color) for its background, 
     so no additional styling needed - it will automatically 
     update when --color changes to the selected color */
}


/* ----------------------------
   Step 5.1 – Hover highlight
   ---------------------------- */

/* Animate opacity changes smoothly */
#projects-pie-plot path {
  transition: opacity 300ms ease, transform 300ms ease;
  cursor: pointer;           /* show pointer for interactivity */
}

/* When any path is hovered, fade the non-hovered ones */
#projects-pie-plot:has(path:hover) path:not(:hover) {
  opacity: 0.5;
}

.selected {
  --color: oklch(60% 45% 0) !important;

  &:is(path) {
    fill: var(--color);
  }
}




